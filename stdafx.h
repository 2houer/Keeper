
// stdafx.h : 标准系统包含文件的包含文件，
// 或是经常使用但不常更改的
// 特定于项目的包含文件

#pragma once

#ifdef _DEBUG
// 如果没有安装VLD，需要注释下述行
#ifdef _M_IX86
#include "vld.h"
#endif
#endif

// 移除对话框中MFC控件的支持，减小静态编译程序的大小
#define _AFX_NO_MFC_CONTROLS_IN_DIALOGS

#ifndef VC_EXTRALEAN
#define VC_EXTRALEAN            // 从 Windows 头中排除极少使用的资料
#endif

#include "targetver.h"

#define _ATL_CSTRING_EXPLICIT_CONSTRUCTORS      // 某些 CString 构造函数将是显式的

// 关闭 MFC 对某些常见但经常可放心忽略的警告消息的隐藏
#define _AFX_ALL_WARNINGS

#include <afxwin.h>         // MFC 核心组件和标准组件
#include <afxext.h>         // MFC 扩展


#include <afxdisp.h>        // MFC 自动化类



#ifndef _AFX_NO_OLE_SUPPORT
#include <afxdtctl.h>           // MFC 对 Internet Explorer 4 公共控件的支持
#endif
#ifndef _AFX_NO_AFXCMN_SUPPORT
#include <afxcmn.h>             // MFC 对 Windows 公共控件的支持
#endif // _AFX_NO_AFXCMN_SUPPORT

#include <afxcontrolbars.h>     // 功能区和控件条的 MFC 支持

#define USING_GLOG 0

#ifdef _UNICODE
#if defined _M_IX86
#pragma comment(linker,"/manifestdependency:\"type='win32' name='Microsoft.Windows.Common-Controls' version='6.0.0.0' processorArchitecture='x86' publicKeyToken='6595b64144ccf1df' language='*'\"")
#elif defined _M_X64
#pragma comment(linker,"/manifestdependency:\"type='win32' name='Microsoft.Windows.Common-Controls' version='6.0.0.0' processorArchitecture='amd64' publicKeyToken='6595b64144ccf1df' language='*'\"")
#else
#pragma comment(linker,"/manifestdependency:\"type='win32' name='Microsoft.Windows.Common-Controls' version='6.0.0.0' processorArchitecture='*' publicKeyToken='6595b64144ccf1df' language='*'\"")
#endif
#endif

//////////////////////////////////////////////////////////////////////////
// 以下为信令相关

// 构造 SIP request 头(Cseq为整数)
#define SIP_RequestHeader_i(pFrom, pTo, pCallId, pSeq, nXmlLen) \
	"INVITE sip:%s SIP/2.0\r\n"\
	"Via: SIP/2.0/TCP %s\r\n"\
	"To: %s\r\n"\
	"From: %s\r\n"\
	"Max-Forwards: 70\r\n"\
	"Call-ID: %s\r\n"\
	"CSeq: %d INVITE\r\n"\
	"Content-Type: RVSS/xml\r\n"\
	"Content-Length: %d\r\n\r\n", pTo, pFrom, pTo, pFrom, pCallId, pSeq, nXmlLen

// 版本信息
#define KEEPER_VERSION "KeepApplication-Ver1.0"

// 日期时间
#define KEEPER_DATETIME 201804

// 获取注册信令包
void GetRegisterPkg(char *reg, const char *from, const char *to);
