
V1.0.0.2 改善升级程序的线程，配合修改updater.exe

V1.0.0.3 停止/重启程序时采用强制命令：taskkill /f /pid

V1.0.0.4 升级被守护程序后需要重新获取程序时间、版本属性

V1.0.0.5 修复Stop终止被守护程序时，先将标志量置为true

V1.0.0.6 增加上报文件大小

V1.0.0.7 升级之前先更新"updater.exe"

V1.0.0.8 2018/5/15 添加记录远程监控日志的功能

V1.0.0.9 2018/5/17 只在检测到假死时用taskkill强制关闭被守护程序

V1.0.1.0 2018/5/19 升级守护程序时更新pdb文件，升级被守护程序时根据filelist.txt更新文件

V1.0.1.1 2018/6/8 connectServer函数中timeval由500微妙改为500毫秒，默认将守护程序设置为开机自启

V1.0.1.2 2018/6/14 connectServer函数中timeval由500毫秒改为100毫秒（修复了程序退出时慢的问题）
				程序标题设置出错时给出提示，重设后立即生效

V1.0.1.3 2018/6/20 如果处于人为停止状态，则不能退出守护程序；添加配置项"hide_keeper"

V1.0.1.4 2018/6/27 新增设置心跳周期的功能，心跳、注册信令名称都改用小写字母
				1.0.1.3以前Keeper版本将不能被监控

V1.0.1.5 2018/6/28 心跳信令新增上报心跳周期项

V1.0.1.6 2018/6/29 新增检测被守护程序假死(如死锁)的功能

V1.0.1.7 2018/7/2 经验证检测死锁无效，去除相关代码；修正了注册不成功时不处理再注册结果的问题

V1.0.1.8 2018/7/4 校时时记录校时前后的时间，窗口标题配置错误时可以一键恢复默认值

V1.0.1.9 2018/7/5 系统延时较大或者时间与本机相差1s以上时给予提示，以某种颜色标记

V1.0.2.0 2018/7/5 支持指定IIS网站进行程序升级，不要求必须在远程控制器所在电脑安装IIS

V1.0.2.1 2018/7/19 优化检测程序崩溃的机制及代码

V1.0.2.2 2018/7/25 尝试多次下载指定资源直到成功，以降低单次失败无法升级成功的概率

V1.0.2.3 2018/8/13 优化删除Keeper注册表项的代码，当未设置开机自启动时避免自动启动程序

V1.0.2.4 2018/8/29 修复信令SIP头缺失"from"字段的缺陷

V1.0.2.5 2018/9/5 增加上报程序所在磁盘的容量大小（总容量、剩余容量）的功能

V1.0.2.6 2018/10/13 若非自启动则开机100秒内不准启动，且修复弹框缺陷；修复keepProc的缺陷

V1.0.2.7
		2018.11.17 添加配置项is_run，若上一次守护程序非正常退出（该值为1），将进行提示。
		2018.11.19 添加配置项log，定期对被守护程序状态进行记录（默认10分钟，0表示不记录）。
		2018.11.21 修复将远端IP由"未配置"改为0导致的崩溃缺陷。
V1.0.2.8
		2018.11.26 发布1.0.2.8.
V1.0.2.9 【较大更新】
		2018.12.1 添加通过Socket进行升级的功能，摆脱IIS网站的限制；
				使得注册成功时立刻上报一次被守护程序的状态。
				始终下载"filelist.txt"，然后根据文件列表下载文件。
				添加字段"show_icon"（删除字段"hide_keeper"）用于控制是否显示守护程序托盘图标。
				添加字段"unique"，用于支持守护程序启动多份被守护程序，但只运行一个守护程序。
				添加向守护程序传递父进程ID号参数的功能。当父进程启动守护进程守护自己时需传参。
				添加接收远程控制器发送的公告并进行显示、播放语音提示的功能。

V1.0.3.0
	2018.12.3
		升级过程给予提示，对话框置顶显示。
		完善当应用程序启动多个副本时的升级流程。
V1.0.3.1
	2018.12.6
		当允许启动多个被守护程序时，关闭被守护程序应采用强制措施。
		下载文件前先把旧文件备份，失败后还原旧文件，以防程序无法启动。
		修复当守护程序远程IP未精确配置时Socket升级失效的问题。
	2018.12.10
		当启动时提示重置配置文件，只需要把id和name清空。
	2018.12.11
		修复被守护程序为32位却误报使用64位守护程序的缺陷，怀疑是被守护程序已退出但却执行了该检查。
V1.0.3.2
	2018.12.11
		发布V1.0.3.2.
	2018.12.14
		修复当存在"Keeper_update.exe"并且其版本和服务端版本一致就不予升级的缺陷。
	2018.12.20
		64位程序若没有用64位的被守护程序，则给予提示。
		程序退出时需等待Notice线程退出。
		添加上报应用程序位数的功能。
	2018.12.23
		"filelist.txt"文件列表排除守护程序和被守护程序。
		仅当只运行单例时才会提示操作系统用户不匹配，否则允许程序启动多份。
	2018.12.24
		将共享MFC方式改为静态使用MFC，单个文件即可运行，并减小编译后程序大小，便于使用。
	2018.12.25
		将升级器updater.exe嵌入守护程序，升级的时候由守护程序自动释放升级器。
		将声音文件嵌入守护程序，守护程序运行时自动解压声音文件，提示信息播放时自动播放声音。
		升级程序时，将旧版本程序文件放入".old"目录，以防升级后程序出现问题，可手工还原。
		新增Released_x64目录，后续发布的Keeper均为单个64位可执行文件，且均放置于该目录。
V1.0.3.3
	2018.12.28
		在远程控制器添加"允许降级"的入口，开启时允许程序版本进行降级操作，不建议开启。

	2018.12.30
		1、与远程控制器1.0.0.9配套修改，支持通过远程控制器修改守护程序的远程控制IP和端口。
		2、获取进程的线程数量函数有问题，已修复。
	2018.12.31
		1、支持ffmpeg（如果当前目录存在ffmpeg程序）推送屏幕到监控终端；
		2、添加"infomation"信令，用于向监控终端发送消息。
	2019.1.1
		1、修复DownloadFile函数的缺陷；
		2、发布V1.0.3.4.

V1.0.3.4
	2019.1.2
		1、修复自V1.0.1.0发布以来的缺陷：升级ffmpeg的传参有问题（多了一个"点"）；
		2、ffmpeg运行时长小于3s将向监控端发送通知，被控端没有显示设备用于传屏；
		3、更改守护程序远程端口时，重置网络端口扫描器。
	2019.1.7
		1、添加"ghost.exe"，该程序提供对计算机设备更多的监控功能（该程序和ffmpeg传屏互斥）。
		2、发布V1.0.3.5.

V1.0.3.5
	2019.1.7
		1、小问题修复：关闭ghost不进行判断，只要找到ghost的控制台窗口，就进行关闭。
		2、新增对被守护程序进行还原的功能，当升级后程序出问题时可通过还原菜单进行还原。
	2019.1.9-14
		小修改：守护日志记录运行时长信息，监控日志记录远端信令、运行日志记录被守护程序运行情况。
		消息提示时窗口标题显示为被守护程序的名称。
		将守护程序的启动参数传递到重启时填写的启动参数。
		发布比较稳定的版本V1.0.3.6.

V1.0.3.6
	2019.1.18
		1、更新updater到V1.0.0.4，更新ghost到V1.0.0.2。
		2、开始支持对子目录中的文件进行升级和还原操作。
		3、如果远端IP未填写，则在守护程序所在IP网段内进行搜索（间隔：白天1分钟，晚上2分钟）。
		4、发现在ExitInstance采用ShellExecuteEx无法成功重启程序，需WinExec重启守护程序。
		5、发布V1.0.3.7。

V1.0.3.7
	2019.1.22
		如果点击托盘没有找到被守护程序的窗口句柄，则尝试用该程序的路径作为标题进行尝试。
		这对于一般的控制台程序都是可以找回窗口句柄的。
	2019.1.26
		添加并优化为被守护程序设置图标的代码，优先寻找当前目录下的图标文件，未找到则显示文字。
		更新ghost到v1.0.0.3。
	2019.1.30
		findIconFile函数有小问题，寻找当前目录下的图片文件作为被守护程序图标，应比较文件后缀。
	2019.3.21
		当被守护程序名称较长时，不用修改其图标为文字显示。
